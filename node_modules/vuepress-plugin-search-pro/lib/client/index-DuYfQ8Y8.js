import{values as h}from"@vuepress/helper/client";import{inject as p,computed as d}from"vue";import{useRouteLocale as m}from"vuepress/client";const l=SEARCH_PRO_OPTIONS,g=SEARCH_PRO_ENABLE_AUTO_SUGGESTIONS,P=SEARCH_PRO_CUSTOM_FIELDS,R=l.hotKeys,f=SEARCH_PRO_LOCALES,w=new URL("./worker/index.js",import.meta.url),O=()=>{const s=new Worker(__VUEPRESS_DEV__?w:`${__VUEPRESS_BASE__}${l.worker}`,__VUEPRESS_DEV__?{type:"module"}:{}),a={suggest:[],search:[],all:[]};return s.addEventListener("message",({data:o})=>{const[r,n,c]=o,t=a[r],e=t.findIndex(({id:i})=>i===n);if(e>-1){const{resolve:i}=t[e];t.forEach((S,u)=>{u>e&&S.reject(new Error("Search has been canceled."))}),a[r]=t.slice(e+1),i(c)}}),{suggest:(o,r,n)=>new Promise((c,t)=>{const e=Date.now();s.postMessage({type:"suggest",id:e,query:o,locale:r,options:n}),a.suggest.push({id:e,resolve:c,reject:t})}),search:(o,r,n)=>new Promise((c,t)=>{const e=Date.now();s.postMessage({type:"search",id:e,query:o,locale:r,options:n}),a.search.push({id:e,resolve:c,reject:t})}),all:(o,r,n)=>new Promise((c,t)=>{const e=Date.now();s.postMessage({type:"all",id:e,query:o,locale:r,options:n}),a.all.push({id:e,resolve:c,reject:t})}),terminate:()=>{s.terminate(),h(a).forEach(o=>{o.forEach(({reject:r})=>r(new Error("Worker has been terminated.")))})}}};let _={};const E=Symbol(__VUEPRESS_DEV__?"slimsearch":""),C=s=>{_=s},y=()=>{const s=m(),{locales:a={},...o}=p(E);return d(()=>({...o,...a[s.value]||{}}))},A=s=>{s.provide(E,_)};export{f as a,P as b,O as c,R as d,g as e,C as f,A as i,l as s,y as u};
//# sourceMappingURL=index-DuYfQ8Y8.js.map
