import{align as ze}from"@mdit/plugin-align";import{attrs as Le}from"@mdit/plugin-attrs";import{figure as Ue}from"@mdit/plugin-figure";import{footnote as Ge}from"@mdit/plugin-footnote";import{imgLazyload as Ve}from"@mdit/plugin-img-lazyload";import{imgMark as We}from"@mdit/plugin-img-mark";import{imgSize as qe,obsidianImageSize as Be}from"@mdit/plugin-img-size";import{include as Ke}from"@mdit/plugin-include";import{katex as He}from"@mdit/plugin-katex";import{mark as Ye}from"@mdit/plugin-mark";import{createMathjaxInstance as Qe,mathjax as Xe}from"@mdit/plugin-mathjax";import{stylize as Ze}from"@mdit/plugin-stylize";import{sub as et}from"@mdit/plugin-sub";import{sup as tt}from"@mdit/plugin-sup";import{tasklist as nt}from"@mdit/plugin-tasklist";import{ensureLeadingSlash as N,encodeData as $,Logger as ot,ensureEndingSlash as at,getInstalledStatus as rt,entries as P,isDef as it,isPlainObject as v,keys as M,endsWith as _,deepAssign as q,fromEntries as D,isString as B,isArray as st,getRealPath as R,getLocaleConfig as lt,addViteSsrNoExternal as pt,addCustomElement as ct,addViteOptimizeDepsExclude as T,addViteSsrExternal as x,addViteOptimizeDepsInclude as O,addViteOptimizeDepsNeedsInterop as mt,chainWebpack as dt}from"@vuepress/helper";import{getDirname as ut,path as w,hash as ft,colors as C,fs as K,logger as gt}from"vuepress/utils";import{useSassPalettePlugin as ht}from"vuepress-plugin-sass-palette";import{createConverter as yt}from"vuepress-shared/node";import{container as j}from"@mdit/plugin-container";import{demo as bt}from"@mdit/plugin-demo";import{alert as $t}from"@mdit/plugin-alert";import{resolveLocalePath as J}from"vuepress/shared";import{load as H}from"js-yaml";import{tab as Y}from"@mdit/plugin-tab";import{uml as Q}from"@mdit/plugin-uml";const X=(t,e={})=>{t.use($t,{alertNames:["important","note","tip","warning","caution","info"],openRender:(n,r)=>`<div class="hint-container ${n[r].markup}">
`,titleRender:(n,r,a,o)=>{const s=n[r].markup,l=N(o.filePathRelative??""),p=J(e,l);return`<p class="hint-container-title">${e[p]?.[s]||s}</p>
`},closeRender:()=>`</div>
`,deep:!0})},Z=t=>{j(t,{name:"chart",openRender:(e,n)=>{const r=e[n].info.trimStart().slice(5).trim(),a=`chart-${n}`;let o="{}",s="";for(let l=n;l<e.length;l++){const{type:p,content:i,info:c}=e[l];if(p==="container_chart_close")break;i&&(p==="fence"&&(c==="json"?(o=$(i),s="json"):(c==="js"||c==="javascript")&&(o=$(i),s="js")),e[l].type="chart_empty",e[l].hidden=!0)}return`<ChartJS id="${a}" config="${o}" ${r?`title="${encodeURIComponent(r)}" `:""}type="${s}">`},closeRender:()=>"</ChartJS>"})},kt=/\r\n?|\n/g,F=t=>JSON.stringify(t).replace(/'/g,"&#39"),A=t=>t.replace(/&/gu,"&amp;").replace(/</gu,"&lt;").replace(/>/gu,"&gt;").replace(/"/gu,"&quot;").replace(/'/gu,"&#039;"),ee={useBabel:!1,jsLib:[],cssLib:[],codepenLayout:"left",codepenEditors:"101",babel:"https://unpkg.com/@babel/standalone/babel.min.js",vue:"https://unpkg.com/vue/dist/vue.global.prod.js",react:"https://unpkg.com/react/umd/react.production.min.js",reactDOM:"https://unpkg.com/react-dom/umd/react-dom.production.min.js"},z=t=>e=>j(e,{name:t,openRender:(n,r)=>{const a=n[r].info.trimStart().slice(t.length).trim();let o="";const s={};for(let l=r;l<n.length;l++){const{type:p,content:i,info:c}=n[l],m=c?e.utils.unescapeAll(c).trim().match(/^([^ :[{]+)/)?.[1]||"text":"";if(p===`container_${t}_close`)break;i&&p==="fence"&&(m==="json"?o=$(i):s[m]=i)}return`
<CodeDemo id="code-demo-${r}" type="${t.split("-")[0]}"${a?` title="${encodeURIComponent(a)}"`:""}${o?` config="${o}"`:""} code="${$(JSON.stringify(s))}">
`},closeRender:()=>"</CodeDemo>"}),te=z("normal-demo"),ne=z("vue-demo"),oe=z("react-demo"),ae=t=>{t.use(bt,{name:"md-demo",openRender:(e,n)=>`<MdDemo title="${A(e[n].info)}" id="md-demo-${n}"><template #default>
`,codeRender:(e,n,r,a,o)=>{const s=e[n];return s.type="fence",s.info="md",s.markup="```",s.content=s.content.split(`
`).filter(l=>l[0]!=="@"||!l.match(/^@include-p(?:ush\(.*\)|op)$/)).join(`
`),`</template><template #code>
${o.rules.fence(e,n,r,a,o)}`},closeRender:()=>"</template></MdDemo>"})},re=t=>{Y(t,{name:"code-tabs",tabsOpenRenderer:({active:e,data:n},r,a)=>{const{meta:o}=r[a],s=n.map(({title:p})=>t.renderInline(p)),l=n.map((p,i)=>{const{id:c=s[i]}=p;return{id:c}});return`<CodeTabs id="${a}" :data='${F(l)}'${e===-1?"":` :active="${e}"`}${o.id?` tab-id="${o.id}"`:""}>
${s.map((p,i)=>`<template #title${i}="{ value, isActive }">${p}</template>
`).join("")}`},tabsCloseRenderer:()=>`</CodeTabs>
`,tabOpenRenderer:({index:e},n,r)=>{let a=!1;for(let o=r;o<n.length;o++){const{block:s,type:l}=n[o];if(s){if(l==="code-tabs_tab_close")break;if((l==="fence"||l==="import_code")&&!a){a=!0;continue}n[o].type="code_tab_empty",n[o].hidden=!0}}return`<template #tab${e}="{ value, isActive }">
`},tabCloseRenderer:()=>`</template>
`})},vt=ut(import.meta.url),L="vuepress-plugin-md-enhance",b=new ot(L),y=at(w.resolve(vt,"../client")),Ct=(t,e=!0)=>{const n=rt(t,import.meta.url);return e&&!n&&b.error(`Package ${t} is not installed, please install it manually!`),n},jt=t=>(e,n,r,{filePathRelative:a})=>{const o=e[n],{content:s}=o;let l=null;if(s.trim().startsWith("{"))try{l=JSON.parse(s)}catch{}else try{l=H(s)}catch{}return l?`<${t} v-bind='${F(l)}' />`:(b.error(`Invalid ${t} config${a?` found in ${a}`:""}:
${s}
`),"")},ie=t=>{const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a]=n,{info:o}=r[a],[s,l]=o.split(" ",2);return s==="component"?jt(l)(...n):e(...n)}},se=(t,e)=>{const n=t[e],r=`echarts-${e}`,{content:a,info:o}=n,s=o.trim().split(":",2)[1];return`<ECharts id="${r}" config="${$(a)}"${s?` title="${encodeURIComponent(s)}"`:""}></ECharts>`},le=t=>{const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a]=n,{info:o}=r[a];return o.split(":",2)[0]==="echarts"?se(r,a):e(...n)},t.renderer.rules.echarts=se,j(t,{name:"echarts",openRender:(n,r)=>{const a=n[r].info.trimStart().slice(7).trim(),o=`echarts-${r}`;let s="{}",l=!1;for(let p=r;p<n.length;p++){const{type:i,content:c,info:m}=n[p];if(i==="container_echarts_close")break;c&&(i==="fence"&&(m==="json"?s=c:(m==="js"||m==="javascript")&&(s=c,l=!0)),n[p].type="echarts_empty",n[p].hidden=!0)}return`<ECharts id="${o}" config="${$(s)}"${a?` title="${encodeURIComponent(a)}"`:""}${l?' type="js"':""}>`},closeRender:()=>"</ECharts>"})},pe=(t,e)=>{const n=t[e],r=`flowchart-${e}`,{content:a,info:o}=n;return`<FlowChart id="${r}" code="${$(a)}" preset="${o.trim().split(":",2)[1]||"vue"}"></FlowChart>`},ce=t=>{const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a]=n,{info:o}=r[a],[s]=o.split(":",2);return s==="flow"||s==="flowchart"?pe(r,a):e(...n)},t.renderer.rules.flowchart=pe},me=(t,e={})=>{["info","note","tip","warning","caution","important"].forEach(n=>{t.use(j,{name:n,openRender:(r,a,o,s)=>{let l=r[a].info.trim().slice(n.length).trim();if(!l){const{filePathRelative:p}=s,i=N(p??""),c=J(e,i);l=e[c]?.[n]}return`<div class="hint-container ${n}">
<p class="hint-container-title">${l||n}</p>
`},closeRender:()=>`</div>
`})}),t.use(j,{name:"danger",openRender:(n,r,a,o)=>{let s=n[r].info.trim().slice(6).trim();if(!s){const{filePathRelative:l}=o,p=N(l??""),i=J(e,p);s=e[i]?.caution}return`<div class="hint-container caution">
<p class="hint-container-title">${s||"caution"}</p>
`},closeRender:()=>`</div>
`}),t.use(n=>j(n,{name:"details",openRender:(r,a,o,s)=>{let l=r[a].info.trim().slice(7).trim();if(!l){const{filePathRelative:p}=s,i=N(p??""),c=J(e,i);l=e[c]?.details}return`<details class="hint-container details"><summary>${l||"Details"}</summary>
`},closeRender:()=>`</details>
`}))},de="@",wt=["file","import","setting"],Pt=t=>(e,n,r,a)=>{let o=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(e.src[o]!==":")return!1;let l=o+1;for(;l<=s&&e.src[l]===":";)l+=1;const p=l-o;if(p<3)return!1;const i=e.src.slice(o,l),c=e.src.slice(l,s),m=c.trimStart().split(" ",2)[0],g=c.trimStart().slice(t.length).trim();if(m.trim()!==t)return!1;if(a)return!0;let u=n,f=!1;for(;u<r&&(u+=1,o=e.bMarks[u]+e.tShift[u],s=e.eMarks[u],!(o<s&&e.sCount[u]<e.blkIndent));)if(e.src[o]===":"&&e.sCount[u]-e.blkIndent<4){for(l=o+1;l<=s&&e.src[l]===":";l++);if(l-o>=p&&(l=e.skipSpaces(l),l>=s)){f=!0;break}}const d=e.parentType,h=e.lineMax;e.parentType=`${t}`,e.lineMax=u-(f?1:0);const k=e.push(`${t}_open`,"template",1);k.markup=i,k.block=!0,k.info=g,k.map=[n,u-(f?1:0)],e.md.block.tokenize(e,n+1,u-(f?1:0));const S=e.push(`${t}_close`,"template",-1);return S.markup=e.src.slice(o,l),S.block=!0,e.parentType=d,e.lineMax=h,e.line=u+(f?1:0),!0},xt=t=>(e,n,r,a)=>{let o=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];const l=`${de}${t}`;if(e.src.charAt(o)!=="@")return!1;let p;for(p=0;p<l.length;p++)if(l[p]!==e.src[o+p])return!1;const i=e.src.slice(o,o+p),c=e.src.slice(o+p,s);if(a)return!0;let m=n,g=!1;for(;m<r&&(m+=1,o=e.bMarks[m]+e.tShift[m],s=e.eMarks[m],!(o<s&&e.sCount[m]<e.blkIndent));)if(e.src[o]===de&&e.sCount[m]<=e.sCount[n]){let k=!0;for(p=0;p<l.length;p++)if(l[p]!==e.src[o+p]){k=!1;break}if(k){g=!0,m-=1;break}}const u=e.parentType,f=e.lineMax;e.parentType=`${t}`,e.lineMax=m;const d=e.push(`${t}_open`,"template",1);d.block=!0,d.markup=i,d.info=c.trim(),d.map=[n,m],e.md.block.tokenize(e,n+1,m);const h=e.push(`${t}_close`,"template",-1);return h.block=!0,h.markup="",e.parentType=u,e.lineMax=f,e.line=m+(g?1:0),!0},ue=t=>({key:t.key,title:t.title||"",files:encodeURIComponent(JSON.stringify(t.files)),settings:encodeURIComponent(JSON.stringify(t.settings||{}))}),I=(t,{name:e="playground",component:n="Playground",propsGetter:r=ue}={name:"playground",component:"Playground",propsGetter:ue})=>{t.block.ruler.before("fence",`${e}`,Pt(e),{alt:["paragraph","reference","blockquote","list"]}),wt.forEach(a=>{t.block.ruler.__rules__.find(({name:o})=>o===`at-${a}`)||t.block.ruler.before("fence",`at-${a}`,xt(a),{alt:["paragraph","reference","blockquote","list"]})}),t.renderer.rules[`${e}_open`]=(a,o)=>{const{info:s}=a[o],l={key:ft(`playground${o}-${s}`),title:encodeURIComponent(s),settings:{},files:{}};let p=null,i=!1;for(let m=o;m<a.length;m++){const{block:g,type:u,info:f,content:d}=a[m];if(g){if(u===`${e}_close`)break;if(u===`${e}_open`)continue;if(u==="file_open"){if(!f)continue;p=f}else if(u==="import_open")l.importMap=p=f||"import-map.json";else if(u==="setting_open")i=!0;else if(u==="file_close"||u==="import_close"||u==="setting_close"||!d){a[m].type=`${e}_empty`,a[m].hidden=!0,u==="setting_close"&&(i=!1);continue}i?u==="fence"&&f==="json"&&(l.settings=JSON.parse(d.trim())):u==="fence"&&p&&(l.files[p]={ext:f,content:d}),a[m].type=`${e}_empty`,a[m].hidden=!0}}const c=r(l);return`<${n} ${P(c).map(([m,g])=>`${m}="${A(g)}"`).join(" ")}>
`},t.renderer.rules[`${e}_close`]=()=>`</${n}>
`},St="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",Rt=(t,e,n)=>{if(e==null)return"";let r,a,o,s={},l={},p="",i="",c="",m=2,g=3,u=2,f=[],d=0,h=0;for(o=0;o<t.length;o+=1)if(p=t.charAt(o),Object.prototype.hasOwnProperty.call(s,p)||(s[p]=g++,l[p]=!0),i=c+p,Object.prototype.hasOwnProperty.call(s,i))c=i;else{if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<u;r++)d<<=1,h==e-1?(h=0,f.push(n(d)),d=0):h++;for(a=c.charCodeAt(0),r=0;r<8;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1}else{for(a=1,r=0;r<u;r++)d=d<<1|a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a=0;for(a=i.charCodeAt(0),r=0;r<16;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1}--m==0&&(m=Math.pow(2,u),u++),delete l[c]}else for(a=s[c],r=0;r<u;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1;--m==0&&(m=Math.pow(2,u),u++),s[i]=g++,c=String(p)}if(c!==""){if(Object.prototype.hasOwnProperty.call(l,c)){if(c.charCodeAt(0)<256){for(r=0;r<u;r++)d<<=1,h==e-1?(h=0,f.push(n(d)),d=0):h++;for(a=c.charCodeAt(0),r=0;r<8;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1}else{for(a=1,r=0;r<u;r++)d=d<<1|a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a=0;for(a=c.charCodeAt(0),r=0;r<16;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1}--m==0&&(m=Math.pow(2,u),u++),delete l[c]}else for(a=s[c],r=0;r<u;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1;--m==0&&(m=Math.pow(2,u),u++)}for(a=2,r=0;r<u;r++)d=d<<1|1&a,h==e-1?(h=0,f.push(n(d)),d=0):h++,a>>=1;for(;;){if(d<<=1,h==e-1){f.push(n(d));break}h++}return f.join("")},fe=t=>Rt(t,6,e=>St.charAt(e)),It=[{name:"help",type:"boolean"},{name:"help",type:"boolean"},{name:"watch",type:"boolean"},{name:"preserveWatchOutput",type:"boolean"},{name:"listFiles",type:"boolean"},{name:"explainFiles",type:"boolean"},{name:"listEmittedFiles",type:"boolean"},{name:"pretty",type:"boolean"},{name:"traceResolution",type:"boolean"},{name:"diagnostics",type:"boolean"},{name:"extendedDiagnostics",type:"boolean"},{name:"generateCpuProfile",type:"string"},{name:"generateTrace",type:"string"},{name:"incremental",type:"boolean"},{name:"declaration",type:"boolean"},{name:"declarationMap",type:"boolean"},{name:"emitDeclarationOnly",type:"boolean"},{name:"sourceMap",type:"boolean"},{name:"inlineSourceMap",type:"boolean"},{name:"assumeChangesOnlyAffectDirectDependencies",type:"boolean"},{name:"locale",type:"string"},{name:"all",type:"boolean"},{name:"version",type:"boolean"},{name:"init",type:"boolean"},{name:"project",type:"string"},{name:"build",type:"boolean"},{name:"showConfig",type:"boolean"},{name:"listFilesOnly",type:"boolean"},{name:"target",type:{es3:0,es5:1,es6:2,es2015:2,es2016:3,es2017:4,es2018:5,es2019:6,es2020:7,es2021:8,es2022:9,esnext:99}},{name:"module",type:{none:0,commonjs:1,amd:2,system:4,umd:3,es6:5,es2015:5,es2020:6,es2022:7,esnext:99,node16:100,nodenext:199,preserve:200}},{name:"lib",type:"list"},{name:"allowJs",type:"boolean"},{name:"checkJs",type:"boolean"},{name:"jsx",type:{preserve:1,"react-native":3,react:2,"react-jsx":4,"react-jsxdev":5}},{name:"outFile",type:"string"},{name:"outDir",type:"string"},{name:"rootDir",type:"string"},{name:"composite",type:"boolean"},{name:"tsBuildInfoFile",type:"string"},{name:"removeComments",type:"boolean"},{name:"noEmit",type:"boolean"},{name:"importHelpers",type:"boolean"},{name:"importsNotUsedAsValues",type:{remove:0,preserve:1,error:2}},{name:"downlevelIteration",type:"boolean"},{name:"isolatedModules",type:"boolean"},{name:"verbatimModuleSyntax",type:"boolean"},{name:"strict",type:"boolean"},{name:"noImplicitAny",type:"boolean"},{name:"strictNullChecks",type:"boolean"},{name:"strictFunctionTypes",type:"boolean"},{name:"strictBindCallApply",type:"boolean"},{name:"strictPropertyInitialization",type:"boolean"},{name:"noImplicitThis",type:"boolean"},{name:"useUnknownInCatchVariables",type:"boolean"},{name:"alwaysStrict",type:"boolean"},{name:"noUnusedLocals",type:"boolean"},{name:"noUnusedParameters",type:"boolean"},{name:"exactOptionalPropertyTypes",type:"boolean"},{name:"noImplicitReturns",type:"boolean"},{name:"noFallthroughCasesInSwitch",type:"boolean"},{name:"noUncheckedIndexedAccess",type:"boolean"},{name:"noImplicitOverride",type:"boolean"},{name:"noPropertyAccessFromIndexSignature",type:"boolean"},{name:"moduleResolution",type:{node10:2,node:2,classic:1,node16:3,nodenext:99,bundler:100}},{name:"baseUrl",type:"string"},{name:"paths",type:"object"},{name:"rootDirs",type:"list"},{name:"typeRoots",type:"list"},{name:"types",type:"list"},{name:"allowSyntheticDefaultImports",type:"boolean"},{name:"esModuleInterop",type:"boolean"},{name:"preserveSymlinks",type:"boolean"},{name:"allowUmdGlobalAccess",type:"boolean"},{name:"moduleSuffixes",type:"list"},{name:"allowImportingTsExtensions",type:"boolean"},{name:"resolvePackageJsonExports",type:"boolean"},{name:"resolvePackageJsonImports",type:"boolean"},{name:"customConditions",type:"list"},{name:"sourceRoot",type:"string"},{name:"mapRoot",type:"string"},{name:"inlineSources",type:"boolean"},{name:"experimentalDecorators",type:"boolean"},{name:"emitDecoratorMetadata",type:"boolean"},{name:"jsxFactory",type:"string"},{name:"jsxFragmentFactory",type:"string"},{name:"jsxImportSource",type:"string"},{name:"resolveJsonModule",type:"boolean"},{name:"allowArbitraryExtensions",type:"boolean"},{name:"out",type:"string"},{name:"reactNamespace",type:"string"},{name:"skipDefaultLibCheck",type:"boolean"},{name:"charset",type:"string"},{name:"emitBOM",type:"boolean"},{name:"newLine",type:{crlf:0,lf:1}},{name:"noErrorTruncation",type:"boolean"},{name:"noLib",type:"boolean"},{name:"noResolve",type:"boolean"},{name:"stripInternal",type:"boolean"},{name:"disableSizeLimit",type:"boolean"},{name:"disableSourceOfProjectReferenceRedirect",type:"boolean"},{name:"disableSolutionSearching",type:"boolean"},{name:"disableReferencedProjectLoad",type:"boolean"},{name:"noImplicitUseStrict",type:"boolean"},{name:"noEmitHelpers",type:"boolean"},{name:"noEmitOnError",type:"boolean"},{name:"preserveConstEnums",type:"boolean"},{name:"declarationDir",type:"string"},{name:"skipLibCheck",type:"boolean"},{name:"allowUnusedLabels",type:"boolean"},{name:"allowUnreachableCode",type:"boolean"},{name:"suppressExcessPropertyErrors",type:"boolean"},{name:"suppressImplicitAnyIndexErrors",type:"boolean"},{name:"forceConsistentCasingInFileNames",type:"boolean"},{name:"maxNodeModuleJsDepth",type:"number"},{name:"noStrictGenericChecks",type:"boolean"},{name:"useDefineForClassFields",type:"boolean"},{name:"preserveValueImports",type:"boolean"},{name:"keyofStringsOnly",type:"boolean"},{name:"plugins",type:"list"},{name:"moduleDetection",type:{auto:2,legacy:1,force:3}},{name:"ignoreDeprecations",type:"string"}],ge=(t,e={})=>{const n=`#code/${fe(t)}`,r=P(e).map(([a,o])=>{const s=It.find(p=>p.name===a);if(!s||o===null||!it(o))return"";const{type:l}=s;return v(l)?l[o]?.toString()||"":`${a}=${encodeURIComponent(o)}`}).filter(a=>a.length).join("&");return`${r?`?${r}`:""}${n}`},he=({service:t="https://www.typescriptlang.org/play",...e}={})=>({name:"playground#ts",propsGetter:({title:n="",files:r,settings:a})=>{const o=M(r).filter(l=>_(l,".ts"));o.length!==1&&b.error("TS playground only support 1 ts file");const s=`${t}${ge(r[o[0]].content,q({},a||{},e))}`;return{title:n,link:encodeURIComponent(s)}}}),Mt=["html","js","ts","vue","jsx","tsx","json"],ye="https://sfc.vuejs.org/vue.runtime.esm-browser.js",be="https://sfc.vuejs.org/server-renderer.esm-browser.js",$e=(t={})=>({name:"playground#vue",propsGetter:e=>{const{title:n="",files:r,settings:a}=e,o={service:"https://sfc.vuejs.org/",dev:!1,ssr:!1,...t,...a},s=D(P(r).filter(([,{ext:l}])=>Mt.includes(l)).map(([l,{content:p}])=>{if(l==="import-map.json"){const i=JSON.parse(p);return[l,JSON.stringify(q({imports:{vue:ye,...o.ssr?{"vue/server-renderer":be}:{}}},i),null,2)]}return[l,p]}));return o.ssr&&!s["import-map.json"]&&(s["import-map.json"]=JSON.stringify({imports:{vue:ye,"vue/server-renderer":be}},null,2)),{title:n,link:encodeURIComponent(`${o.service}#${o.dev?"__DEV__":""}${o.ssr?"__SSR__":""}${Buffer.from(JSON.stringify(s)).toString("base64")}`)}}}),U=(t,e,n="&")=>e?`${n}${t}=${fe(e)}`:"",ke=(t,e,n,r)=>{const a=`/${U("html",e,"?")}${U("config",r)}${U("css",n)}`;return`${t}${a}`},ve=({service:t="https://unocss.dev/play"}={})=>({name:"playground#unocss",propsGetter:({title:e="",files:n})=>{const r=M(n).filter(p=>_(p,".html")),a=M(n).filter(p=>_(p,".css")),o=M(n).filter(p=>_(p,".js")||_(p,".ts"));(r.length>1||a.length>1||o.length>1)&&b.error("UnoCSS playground only support 1 html/css/config file");const s=p=>p.length===1?n[p[0]].content:"",l=ke(t,s(r),s(a),s(o));return{title:e,link:encodeURIComponent(l)}}}),Ce=t=>{t.use(I,{name:"kotlin-playground",component:"KotlinPlayground",propsGetter:({title:e="",key:n,files:r,settings:a})=>({title:e,key:n,settings:encodeURIComponent(JSON.stringify(a||{})),files:$(JSON.stringify(P(r).map(([,{content:o}])=>o)))})})},je=(t,e)=>{const n=t[e],r=`markmap-${e}`,{content:a}=n;return`<MarkMap id="${r}" content="${$(a)}"></MarkMap>`},we=t=>{const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a]=n,{info:o}=r[a],[s]=o.split(":",2);return s==="markmap"?je(r,a):e(...n)},t.renderer.rules.markmap=je},_t=(t,e)=>`<Mermaid id="mermaid-${e}" code="${$(t[e].content)}"></Mermaid>`,Pe=({diagram:t="mermaid",content:e,title:n=""})=>`${n?`---
title: ${n}
---

`:""}${t==="mermaid"?"":`${t}
`}${t==="mermaid"||t==="sankey-beta"?e:e.split(`
`).map(r=>r?`  ${r}`:"").join(`
`)}`,xe=(t,e)=>`<Mermaid id="mermaid-${e}" code="${$(Pe(t))}"${t.title?` title="${$(t.title)}"`:""}></Mermaid>`,Se={block:"block-beta",class:"classDiagram",c4c:"C4Context",er:"erDiagram",gantt:"gantt","git-graph":"gitGraph",journey:"journey",mindmap:"mindmap",pie:"pie",quadrant:"quadrantChart",requirement:"requirementDiagram",sankey:"sankey-beta",sequence:"sequenceDiagram",state:"stateDiagram-v2",timeline:"timeline",xy:"xychart-beta"},Re=t=>{const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a]=n,{content:o,info:s}=r[a],l=s.trim();if(l==="mermaid")return xe({content:o},a);const[p,...i]=l.split(" ");return Se[p]?xe({diagram:Se[p],title:i.join(" "),content:o},a):e(...n)},t.renderer.rules.mermaid=_t},Ie=t=>{t.use(Q,{name:"revealjs",open:"slidestart",close:"slideend",render:(e,n)=>{const r=e[n],a=`revealjs-${n}`,{content:o,info:s}=r;return`<RevealJs id="${a}" code="${$(o)}" theme="${s.trim()||"auto"}"></RevealJs>`}})},Me=t=>{Y(t,{name:"tabs",tabsOpenRenderer:({active:e,data:n},r,a)=>{const{meta:o}=r[a],s=n.map(({title:p})=>t.renderInline(p)),l=n.map((p,i)=>{const{id:c=s[i]}=p;return{id:c}});return`<Tabs id="${a}" :data='${F(l)}'${e===-1?"":` :active="${e}"`}${o.id?` tab-id="${o.id}"`:""}>
${s.map((p,i)=>`<template #title${i}="{ value, isActive }">${p}</template>
`).join("")}`},tabsCloseRenderer:()=>`</Tabs>
`,tabOpenRenderer:({index:e})=>`<template #tab${e}="{ value, isActive }">
`,tabCloseRenderer:()=>`</template>
`})},_e=t=>{j(t,{name:"v-pre",openRender:()=>`<div v-pre>
`,closeRender:()=>`</div>
`})},Dt=["html","js","ts","vue","jsx","tsx","json"],Ot=t=>Buffer.from(JSON.stringify(D(P(t).filter(([,{ext:e}])=>Dt.includes(e)).map(([e,{content:n}])=>[e,n])))).toString("base64"),De=t=>{t.use(I,{name:"vue-playground",component:"VuePlayground",propsGetter:({title:e="",key:n,files:r,settings:a})=>({title:e,key:n,settings:encodeURIComponent(JSON.stringify(a||{})),files:encodeURIComponent(Ot(r))})})},Et=t=>JSON.stringify(D(P(t).map(([e,n])=>[e,typeof n=="string"||n.active||n.hidden||n.readOnly?n:n.code]))),Oe=t=>{const e=/.*(?<!\\)\[([^}]*)\].*/.exec(t);if(e&&e[1]){const n=e[1].split(" ");return D(n.filter(r=>r.trim().length>0).map(r=>{const[a,o=""]=r.trim().split("=",2);return[a,o]}))}return{}},Ee="@",Nt=["file","options","setup"],Tt=t=>({title:t.title||"",template:t.template||"",files:$(Et(t.files||{})),options:$(JSON.stringify(t.options||{})),customSetup:$(JSON.stringify(t.customSetup||{}))}),Ne=t=>new Function(`return ${t};`)(),Jt=t=>(e,n,r,a)=>{let o=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];if(e.src[o]!==":")return!1;let l=o+1;for(;l<=s&&e.src[l]===":";)l+=1;const p=l-o;if(p<3)return!1;const i=e.src.slice(o,l),c=e.src.slice(l,s).trim(),m=c.indexOf(" ");let g="",u="";if(m>0?(g=c.substring(0,m),u=c.substring(m+1).replace(/(?<!\\)\[([^}]*)\]/g,"")):g=c,!g.includes(t))return!1;if(a)return!0;let f=n,d=!1;for(;f<r&&(f+=1,o=e.bMarks[f]+e.tShift[f],s=e.eMarks[f],!(o<s&&e.sCount[f]<e.blkIndent));)if(e.src[o]===":"&&e.sCount[f]-e.blkIndent<4){for(l=o+1;l<=s&&e.src[l]===":";l++);if(l-o>=p&&(l=e.skipSpaces(l),l>=s)){d=!0;break}}const h=e.parentType,k=e.lineMax;e.parentType=`${t}`,e.lineMax=f-(d?1:0);const S=e.push(`${t}_open`,"template",1);S.markup=i,S.content=c,S.block=!0,S.info=u,S.map=[n,f-(d?1:0)],e.md.block.tokenize(e,n+1,f-(d?1:0));const W=e.push(`${t}_close`,"template",-1);return W.markup=e.src.slice(o,l),W.block=!0,e.parentType=h,e.lineMax=k,e.line=f+(d?1:0),!0},Ft=t=>(e,n,r,a)=>{let o=e.bMarks[n]+e.tShift[n],s=e.eMarks[n];const l=`${Ee}${t}`;if(e.src.charAt(o)!=="@")return!1;let p;for(p=0;p<l.length;p++)if(l[p]!==e.src[o+p])return!1;const i=e.src.slice(o,o+p),c=e.src.slice(o+p,s);if(a)return!0;let m=n,g=!1;for(;m<r&&(m+=1,o=e.bMarks[m]+e.tShift[m],s=e.eMarks[m],!(o<s&&e.sCount[m]<e.blkIndent));)if(e.src[o]===Ee&&e.sCount[m]<=e.sCount[n]){let k=!0;for(p=0;p<l.length;p++)if(l[p]!==e.src[o+p]){k=!1;break}if(k){g=!0,m-=1;break}}const u=e.parentType,f=e.lineMax;e.parentType=`${t}`,e.lineMax=m;const d=e.push(`${t}_open`,"template",1);d.block=!0,d.markup=i,d.info=c.trim(),d.map=[n,m],e.md.block.tokenize(e,n+1,m);const h=e.push(`${t}_close`,"template",-1);return h.block=!0,h.markup="",e.parentType=u,e.lineMax=f,e.line=m+(g?1:0),!0},Te=t=>{t.block.ruler.before("fence","sandpack",Jt("sandpack"),{alt:["paragraph","reference","blockquote","list"]}),Nt.forEach(e=>{t.block.ruler.__rules__.find(({name:n})=>n===`at-${e}`)||t.block.ruler.before("fence",`at-${e}`,Ft(e),{alt:["paragraph","reference","blockquote","list"]})}),t.renderer.rules.sandpack_open=(e,n)=>{const{content:r,info:a}=e[n],o=Oe(r),s={title:encodeURIComponent(a),files:{},options:{},customSetup:{}},l=r.split(" ",2)[0].trim().split("#");l.length>1&&(s.template=l[1]);let p=null,i=!1,c=!1;for(let g=n;g<e.length;g++){const{block:u,type:f,info:d,content:h}=e[g];if(u){if(f==="sandpack_close")break;if(f==="sandpack_open")continue;if(f==="file_open"){if(!d)continue;p=d.trim().split(" ")[0];const k=Oe(d);s.files[p]={code:"",active:"active"in k,hidden:"hidden"in k,readOnly:"readOnly"in k}}else(f==="file_close"||f==="setup_open"||f==="options_open")&&(p=null);if(f==="setup_open"?c=!0:f==="setup_close"?c=!1:f==="options_open"?i=!0:f==="options_close"&&(i=!1),f==="file_close"||f==="setup_close"||f==="options_close"||!h){e[g].type="sandpack_empty",e[g].hidden=!0;continue}i&&(f==="fence"&&(d==="js"||d==="javascript")&&(s.options=Ne(h.trim())),i=!1),c&&(f==="fence"&&(d==="js"||d==="javascript")&&(s.customSetup=Ne(h.trim())),c=!1),f==="fence"&&p&&(s.files[p].code=h),e[g].type="sandpack_empty",e[g].hidden=!0}}const m=Tt(s);return`<SandPack ${M(o).length?`${P(o).map(([g,u])=>u?`${g}="${A(u)}"`:g).join(" ")} `:""}${P(m).map(([g,u])=>u?`${g}="${A(u)}"`:null).filter(Boolean).join(" ")}>
`},t.renderer.rules.sandpack_close=()=>`</SandPack>
`},Je={"/en/":{important:"Important",info:"Info",note:"Note",tip:"Tips",warning:"Warning",caution:"Caution",details:"Details"},"/zh/":{important:"重要",info:"相关信息",note:"注",tip:"提示",warning:"注意",caution:"警告",details:"详情"},"/zh-tw/":{important:"重要",info:"相關信息",note:"注",tip:"提示",warning:"注意",caution:"警告",details:"詳情"},"/de/":{important:"Wichtig",info:"Information",note:"Notiz",tip:"Tips",warning:"Warnung",caution:"Gefahr",details:"Details"},"/de-at/":{important:"Wichtig",info:"Information",note:"Note",tip:"Tips",warning:"Notiz",caution:"Warnung",details:"Details"},"/vi/":{important:"Quan trọng",info:"Thông tin",note:"Note",tip:"Tips",warning:"Lưu ý",caution:"Cẩn thận",details:"Chi tiết"},"/uk/":{important:"Важливо",info:"Інформація",note:"Note",tip:"Поради",warning:"Примітка",caution:"Увага",details:"Деталь"},"/ru/":{important:"Важно",info:"Инфо",note:"Заметка",tip:"Совет",warning:"Примечание",caution:"Предупреждение",details:"Подробности"},"/br/":{important:"Importante",info:"Informativo",note:"Note",tip:"Dicas",warning:"Avisos",caution:"Cuidado",details:"Detalhe"},"/pl/":{important:"Ważne",info:"Info",note:"Notatka",tip:"Porady",warning:"Notatka",caution:"Ostrzeżenie",details:"Dane"},"/sk/":{important:"Dôležité",info:"Info",note:"Poznámka",tip:"Tip",warning:"Upozornenie",caution:"Pozor",details:"Podrobnosti"},"/fr/":{important:"Important",info:"Info",note:"Note",tip:"Conseil",warning:"Note",caution:"Avertissement",details:"Details"},"/es/":{important:"Importante",info:"Información",note:"Nota",tip:"Consejos",warning:"Aviso",caution:"Advertencia",details:"Detalles"},"/ja/":{important:"重要",info:"関連情報",note:"注",tip:"ヒント",warning:"注意",caution:"警告",details:"詳細"},"/tr/":{important:"Önemli",info:"Bilgi",note:"Not",tip:"Tavsiye",warning:"Uyarı",caution:"Tehlike",details:"Detay"},"/ko/":{important:"중요",info:"정보",note:"노트",tip:"팁",warning:"경고",caution:"위험",details:"세부사항"},"/fi/":{important:"Tärkeä",info:"Tietoa",note:"Huomautus",tip:"Vinkki",warning:"Varoitus",caution:"Vaara",details:"Yksityiskohdat"},"/hu/":{important:"Fontos",info:"Információ",note:"Megjegyzés",tip:"Tipp",warning:"Figyelem",caution:"Veszély",details:"Részletek"},"/id/":{important:"Penting",info:"Pemberitahuan",note:"Catatan",tip:"Tips",warning:"Penting",caution:"Peringatan",details:"Rincian"},"/nl/":{important:"Belangrijk",info:"Info",note:"Notitie",tip:"Tips",warning:"Notitie",caution:"Waarschuwing",details:"Details"}},At=["title","desc","logo","link","color"],zt=t=>v(t)&&B(t.title)?D(P(t).filter(e=>At.includes(e[0])&&B(e[1]))):null,G=(t,e,n,{filePathRelative:r})=>{const a=t[e],{content:o}=a;let s=null;if(o.trim().startsWith("{"))try{s=JSON.parse(o)}catch(p){b.error("Parsing card as JSON config failed:",p)}else try{s=H(o)}catch(p){b.error("Parsing card as YAML config failed:",p)}const l=zt(s);return l?`<VPCard v-bind='${F(l)}' />`:(b.error(`Invalid card config${r?` found in ${r}`:""}:
${o}
`),"")},Lt=t=>{t.use(j,{name:"card",openRender:()=>`<div class="vp-card-container">
`});const{fence:e}=t.renderer.rules;t.renderer.rules.fence=(...n)=>{const[r,a,o,s]=n,{info:l}=r[a];if(l==="card")return G(r,a,o,s);const[p]=l.split(":",2);return p==="card"?(b.warn("Language declaration for card is deprecated, please remove them."),G(r,a,o,s)):e(...n)},t.renderer.rules.card=G},Ut=t=>{const{deprecatedLogger:e,droppedLogger:n}=yt("md-enhance");e({options:t,old:"container",new:"hint"}),e({options:t,old:"codegroup",new:"codetabs"}),e({options:t,old:"lazyload",new:"imgLazyload"}),e({options:t,old:"imageLazyload",new:"imgLazyload"}),e({options:t,old:"imageMark",new:"imgMark"}),e({options:t,old:"imageSize",new:"imgSize"}),e({options:t,old:"mdImport",new:"include"}),e({options:t,old:"tex",new:"katex"}),e({options:t,old:"vpre",new:"vPre"}),e({options:t,old:"imageTitle",new:"figure"}),e({options:t,old:"revealjs",new:"revealJs"}),n({options:t,old:"enableAll",msg:"Please manually enable the features you need."}),n({options:t,old:"lineNumbers",msg:"Please use the built-in lineNumbers option of vuepress instead!"}),n({options:t,old:"imageFix",msg:"This option is no longer needed."}),n({options:t,old:"linkCheck",msg:"Please use @vuepress/plugin-links-check instead."}),n({options:t,old:"checkLinks",msg:"Please use @vuepress/plugin-links-check instead."}),t.card&&b.error(`${C.magenta("card")} is deprecated, please import  ${C.magenta("VPCard")} from "vuepress-plugin-components" and use it instead.`),v(t.mermaid)&&(b.error(`Customizing mermaid with option ${C.magenta("mermaid")} is no longer supported, please import and use ${C.magenta("defineMermaidConfig")} from ${C.magenta("vuepress-plugin-md-enhance/client")} instead.`),t.mermaid=!0),t.presentation&&(b.error(`${C.magenta("presentation")} is no longer supported, please use ${C.magenta("revealJs")} instead.`),v(t.presentation)?("plugins"in t.presentation?t.revealJs={plugins:t.presentation.plugins}:t.revealJs=!0,"revealConfig"in t.presentation&&b.error(`Customizing revealJs with option ${C.magenta("presentation.revealConfig")} is no longer supported, please import and use ${C.magenta("defineRevealJsConfig")} from ${C.magenta("vuepress-plugin-md-enhance/client")} instead.`)):st(t.presentation)&&(t.revealJs={plugins:t.presentation}),delete t.presentation),v(t.vuePlayground)&&(b.error(`Customizing @vue/repl with option ${C.magenta("vuePlayground")} is no longer supported, please import and use ${C.magenta("defineVuePlaygroundConfig")} from ${C.magenta("vuepress-plugin-md-enhance/client")} instead.`),t.vuePlayground=!0)},Gt=t=>{t.use(j,{name:"demo",openRender:(e,n)=>{b.warn("demo container is deprecated, you should use normal-demo, react-demo and vue-demo container instead.");const{info:r}=e[n],a=/\[(.*)\]/u.exec(r),o=/^ demo\s*(?:\[.*?\])?\s*(.*)\s*$/u.exec(r);let s="";const l={};for(let p=n;p<e.length;p++){const{type:i,content:c,info:m}=e[p],g=m?t.utils.unescapeAll(m).trim().match(/^([^ :[{]+)/)?.[1]||"text":"";if(i==="container_demo_close")break;c&&i==="fence"&&(g==="json"?s=$(c):l[g]=c)}return`
<CodeDemo id="code-demo-${n}" type="${a?.[1]||"normal"}"${o?` title="${encodeURIComponent(o[1])}"`:""}${s?` config="${s}"`:""} code="${$(JSON.stringify(l))}">
`},closeRender:()=>"</CodeDemo>"})},Vt=t=>{t.use(j,{name:"code-group",openRender:(e,n,r,a)=>(b.warn(`Deprecated code-group syntax found${a.filePathRelative?`in ${a.filePathRelative}`:""}, you should use code tabs instead. See https://plugin-md-enhance.vuejs.press/guide/code-tabs.html`),`<CodeGroup>
`),closeRender:()=>`</CodeGroup>
`}),t.use(j,{name:"code-group-item",openRender:(e,n)=>{const{info:r}=e[n],a=r.split(":").pop()==="active";return`<CodeGroupItem title="${a?r.replace(/:active$/,""):r}"${a?" active":""}>
`},closeRender:()=>`</CodeGroupItem>
`})},Wt=[/^\/\/ ?#?((?:end)?region) ([\w*-]+)$/u,/^\/\* ?#((?:end)?region) ([\w*-]+) ?\*\/$/u,/^#pragma ((?:end)?region) ([\w*-]+)$/u,/^<!-- #?((?:end)?region) ([\w*-]+) -->$/u,/^#((?:End )Region) ([\w*-]+)$/u,/^::#((?:end)region) ([\w*-]+)$/u,/^# ?((?:end)?region) ([\w*-]+)$/u],qt=/^@include\(([^)]+(?:\.[a-z0-9]+))(?:#([\w-]+))?(?:\{(\d+)?-(\d+)?\})?\)$/u,Bt=t=>{const e=t.split(`
`),n=e.reduce((r,a)=>{for(let o=0;o<a.length;o++)if(a[o]!==" "&&a[o]!=="	")return Math.min(o,r);return r},1/0);return n<1/0?e.map(r=>r.slice(n)).join(`
`):t},Fe=(t,e,n,r=!1)=>{const[a,o,s]=e.exec(t.trim())||[];return!!(a&&o&&s===n&&o.match(r?/^[Ee]nd ?[rR]egion$/:/^[rR]egion$/))},Kt=(t,e)=>{let n=null,r=-1;for(const[a,o]of t.entries())if(n===null){for(const s of Wt)if(Fe(o,s,e)){r=a+1,n=s;break}}else if(Fe(o,n,e,!0))return{lineStart:r,lineEnd:a};return null},Ht=(t,{cwd:e,includedFiles:n,resolvedPath:r})=>{const{filePath:a}=t;let o=a;if(!w.isAbsolute(a)){if(!e)return b.error(`[include]: Error when resolving path: ${a}`),`
Error when resolving path
`;o=w.resolve(e,a)}if(n.push(o),!K.existsSync(o))return b.error(`Include: ${o} not found`),`
File not found
`;const s=K.readFileSync(o).toString().replace(kt,`
`).split(`
`);let l=[];if("region"in t){const p=Kt(s,t.region);p&&(l=s.slice(p.lineStart,p.lineEnd))}else{const{lineStart:p,lineEnd:i}=t;l=s.slice(p&&p-1,i)}if(r&&o.endsWith(".md")){const p=w.dirname(o);l.unshift(`@include-push(${p})`),l.push("@include-pop()")}return Bt(l.join(`
`).replace(/\n?$/u,`
`))},Ae=(t,e,{currentPath:n,cwd:r,includedFiles:a})=>t.split(`
`).map(o=>{if(o.startsWith("@include")){const s=o.match(qt);if(s){b.warn(`"@include(file)" is deprecated, you should use "<!-- @include: file -->" instead.${n?`
 Found in ${n}.`:""}`);const[,l,p,i,c]=s,m=e.resolvePath(l,r),g=e.resolveImagePath||e.resolveLinkPath,u=Ht({filePath:m,...p?{region:p}:{lineStart:i?Number(i):0,lineEnd:c?Number(c):void 0}},{cwd:r,includedFiles:a,resolvedPath:g});return e.deep&&m.endsWith(".md")?Ae(u,e,{cwd:w.isAbsolute(m)?w.dirname(m):r?w.resolve(r,w.dirname(m)):null,currentPath:n??"",includedFiles:a}):u}}return o}).join(`
`),Yt=t=>e=>{const n=e.env,r=n.includedFiles||=[],a=t.currentPath(n);e.src=Ae(e.src,t,{cwd:a?w.dirname(a):null,currentPath:a,includedFiles:r})},Qt=(t,e)=>{const{currentPath:n,resolvePath:r=l=>l,deep:a=!1,resolveLinkPath:o=!0,resolveImagePath:s=!0}=e||{};if(typeof n!="function"){b.error('[include]: "currentPath" is required');return}t.core.ruler.after("normalize","md_legacy_import",Yt({currentPath:n,resolvePath:r,deep:a,resolveLinkPath:o,resolveImagePath:s}))},Xt=t=>{Q(t,{name:"flowchart",open:"flowstart",close:"flowend",render:(e,n)=>{gt.warn('"@flowstart ... @flowend" is deprecated, you should use ```flow ... ``` instead.');const r=e[n],a=`flowchart-${n}`,{content:o,info:s}=r;return`<FlowChart id="${a}" code="${$(o)}" preset="${s.trim()||"vue"}"></FlowChart>`}})},{url:E}=import.meta,Zt=async(t,e,n,r=!0)=>{const a=new Set,o=new Set,s=new Set;return e.card&&r&&(a.add(`import { hasGlobalComponent } from "${R("@vuepress/helper/client",E)}";`),a.add(`import { VPCard } from "${y}compact/index.js";`),o.add('if(!hasGlobalComponent("VPCard", app)) app.component("VPCard", VPCard);')),n.chart&&(a.add(`import ChartJS from "${y}components/ChartJS.js";`),o.add('app.component("ChartJS", ChartJS)')),e.codetabs&&(a.add(`import CodeTabs from "${y}components/CodeTabs.js";`),o.add('app.component("CodeTabs", CodeTabs);'),r&&(a.add(`import { hasGlobalComponent } from "${R("@vuepress/helper/client",E)}";`),a.add(`import { CodeGroup, CodeGroupItem } from "${y}compact/index.js";`),o.add('if(!hasGlobalComponent("CodeGroup", app)) app.component("CodeGroup", CodeGroup);'),o.add('if(!hasGlobalComponent("CodeGroupItem", app)) app.component("CodeGroupItem", CodeGroupItem);'))),e.demo&&(a.add(`import CodeDemo from "${y}components/CodeDemo.js";`),a.add(`import MdDemo from "${y}components/MdDemo.js";`),o.add('app.component("CodeDemo", CodeDemo);'),o.add('app.component("MdDemo", MdDemo);')),n.echarts&&(a.add(`import ECharts from "${y}components/ECharts.js";`),a.add(`import { injectEchartsConfig } from "${y}/index.js";`),o.add('app.component("ECharts", ECharts);'),o.add("injectEchartsConfig(app);")),e.figure&&a.add(`import "${y}styles/figure.scss";`),n.flowchart&&(a.add(`import FlowChart from "${y}components/FlowChart.js";`),o.add('app.component("FlowChart", FlowChart);')),n.footnote&&a.add(`import "${y}styles/footnote.scss";`),e.hint&&(a.add(`import { useHint } from "${y}composables/hint.js";`),a.add(`import "${y}styles/hint/index.scss";`),s.add("useHint();")),n.imgMark&&a.add(`import "${y}styles/image-mark.scss"`),n.katex&&(a.add(`import "${R("katex/dist/katex.min.css",E)}";`),a.add(`import "${y}styles/katex.scss";`),v(e.katex)&&e.katex.copy&&(a.add(`import { useKatexCopy } from "${y}composables/katex.js";`),s.add("useKatexCopy();"))),n.kotlinPlayground&&(a.add(`import KotlinPlayground from "${y}components/KotlinPlayground.js";`),a.add(`import { injectKotlinPlaygroundConfig } from "${y}index.js";`),o.add("injectKotlinPlaygroundConfig(app);"),o.add('app.component("KotlinPlayground", KotlinPlayground);')),n.markmap&&(a.add(`import MarkMap from "${y}components/MarkMap.js";`),o.add('app.component("MarkMap", MarkMap);')),n.mathjax&&a.add('import "./mathjax.css";'),n.mermaid&&(a.add(`import Mermaid from "${y}components/Mermaid.js";`),a.add(`import { injectMermaidConfig } from "${y}/index.js";`),o.add("injectMermaidConfig(app);"),o.add('app.component("Mermaid", Mermaid);')),e.playground&&(a.add(`import Playground from "${y}components/Playground.js";`),o.add('app.component("Playground", Playground);')),n.revealJs&&(a.add(`import "${R("reveal.js/dist/reveal.css",E)}";`),a.add(`import RevealJs from "${y}components/RevealJs.js";`),a.add(`import { injectRevealJsConfig } from "${y}index.js";`),o.add("injectRevealJsConfig(app);"),o.add('app.component("RevealJs", RevealJs);')),e.tabs&&(a.add(`import Tabs from "${y}components/Tabs.js";`),o.add('app.component("Tabs", Tabs);')),n.sandpack&&(a.add('import { defineAsyncComponent } from "vue";'),a.add(`import { LoadingIcon } from "${R("vuepress-shared/client",E)}";`),a.add(`import { injectSandpackConfig } from "${y}index.js";`),o.add("injectSandpackConfig(app);"),o.add(`app.component(
  "SandPack",
  defineAsyncComponent({
    loader: () => import("${y}components/SandPack.js"),
    loadingComponent: LoadingIcon,
  })
);`)),n.tasklist&&a.add(`import "${y}styles/tasklist.scss";`),n.vuePlayground&&(a.add(`import VuePlayground from "${y}components/VuePlayground.js";`),a.add(`import { injectVuePlaygroundConfig } from "${y}index.js";`),o.add("injectVuePlaygroundConfig(app);"),o.add('app.component("VuePlayground", VuePlayground);')),t.writeTemp("md-enhance/config.js",`import { defineClientConfig } from "vuepress/client";
${Array.from(a.values()).join(`
`)}

export default defineClientConfig({
  enhance: ({ app }) => {
${Array.from(o.values()).map(l=>`    ${l}`).join(`
`)}
  },
  setup: () => {
${Array.from(s.values()).join(`
`)}
  }
});
`)},en=`mjx-container {
  overflow-x: auto;
}
`,tn=async(t,e)=>{await t.writeTemp("md-enhance/mathjax.css",`${e.outputStyle()}
${en}`)},{url:V}=import.meta,nn=["auto","beige","black","blood","league","moon","night","serif","simple","sky","solarized","white"],on=async(t,e=[])=>{await t.writeTemp("md-enhance/revealjs-plugins.js",`export const useRevealJs = () => [
  import(/* webpackChunkName: "reveal" */ "${R("reveal.js/dist/reveal.esm.js",V)}"),
  import(/* webpackChunkName: "reveal" */ "${R("reveal.js/plugin/markdown/markdown.esm.js",V)}"),
  ${e.map(n=>`import(/* webpackChunkName: "reveal" */ "${R(`reveal.js/plugin/${n}/${n}.esm.js`,V)}")`).join(`,
`)}];
`)},an=async(t,e=["auto"])=>{const n=e.filter(r=>nn.includes(r));await t.writeTemp("md-enhance/revealjs-theme.scss",`${n.map(r=>`@use "${y}styles/revealjs/theme/${r}.scss";`).join(`
`)}
`)},rn=(t={gfm:!0},e=!0)=>n=>{e&&Ut(t),n.env.isDebug&&b.info("Options:",t);const r=(i,c=!1,m=[])=>{const g=i in t?!!t[i]:c&&t.gfm||!1,u=m.every(f=>Ct(f,!!t[i]));return g&&u},a=lt({app:n,name:L,default:Je,config:t.locales}),o={alert:r("alert",!0),breaks:r("breaks",!0),chart:r("chart",!1,["chart.js"]),echarts:r("echarts",!1,["echarts"]),flowchart:r("flowchart",!1,["flowchart.ts"]),footnote:r("footnote",!0),imgLazyload:r("imgLazyload"),imgMark:r("imgMark",!0),linkify:r("linkify",!0),katex:r("katex",!1,["katex"]),mathjax:!t.katex&&r("mathjax",!0,["mathjax-full"]),mark:r("mark"),markmap:r("markmap",!1,["markmap-lib","markmap-toolbar","markmap-view"]),mermaid:r("mermaid",!1,["mermaid"]),obsidianImgSize:r("obsidianImgSize"),revealJs:r("revealJs",!1,["reveal.js"]),tasklist:r("tasklist",!0),kotlinPlayground:r("kotlinPlayground",!1,["kotlin-playground"]),sandpack:r("sandpack",!1,["sandpack-vue3"]),vuePlayground:r("vuePlayground",!1,["@vue/repl"])},s={mathFence:t.gfm??!1,macros:{"\\liiiint":"\\int\\!\\!\\!\\iiint","\\iiiint":"\\int\\!\\!\\!\\!\\iiint","\\idotsint":"\\int\\!\\cdots\\!\\int"},logger:(i,c,m,{filePathRelative:g})=>{i!=="newLineInDisplayMode"&&(i==="unicodeTextInMathMode"?b.warn(`Found unicode character ${m.text} inside tex${g?` in ${C.cyan(g)}`:""}. You should use ${C.magenta(`\\text{${m.text}`)}`):b.warn(`${c}.${g?`
Found in ${C.cyan(g)}`:""}`))},...v(t.katex)?t.katex:{},vPre:!0},l=o.mathjax?Qe({mathFence:t.gfm??!1,...v(t.mathjax)?t.mathjax:{},vPre:!0}):null,p=v(t.revealJs)?t.revealJs:{};return ht(n,{id:"hope"}),{name:L,define:()=>({MARKDOWN_ENHANCE_DELAY:t.delay||800,CODE_DEMO_OPTIONS:{...ee,...v(t.demo)?t.demo:{}},VUE_PLAYGROUND_MONACO:v(t.vuePlayground)&&t.vuePlayground.editor==="monaco"}),extendsBundlerOptions:(i,c)=>{pt(i,c,["@vuepress/helper","fflate","vuepress-shared"]),o.mathjax&&ct(i,c,/^mjx-/),o.chart&&(T(i,c,"chart.js/auto/auto.mjs"),x(i,c,"chart.js")),o.echarts&&(T(i,c,"echarts"),x(i,c,"echarts")),o.flowchart&&(T(i,c,"flowchart.ts"),x(i,c,"flowchart.ts")),o.markmap&&(O(i,c,["markmap-lib","markmap-toolbar","markmap-view"]),x(i,c,["markmap-lib","markmap-toolbar","markmap-view"])),o.mermaid&&(O(i,c,"mermaid"),x(i,c,"mermaid")),o.revealJs&&(T(i,c,["reveal.js/dist/reveal.esm.js","reveal.js/plugin/markdown/markdown.esm.js",...(p.plugins??[]).map(m=>`reveal.js/plugin/${m}/${m}.esm.js`)]),x(i,c,"reveal.js")),o.kotlinPlayground&&(O(i,c,"kotlin-playground"),mt(i,c,"kotlin-playground"),x(i,c,"kotlin-playground")),o.sandpack&&(O(i,c,"sandpack-vue3"),x(i,c,"sandpack-vue3")),o.vuePlayground&&(O(i,c,"@vue/repl"),x(i,c,"@vue/repl"),dt(i,c,m=>{m.resolve.set("conditionNames",["browser","import","module"]),m.module.set("exprContextCritical",!1),m.module.set("unknownContextCritical",!1)}))},extendsMarkdown:i=>{if(o.breaks&&(i.options.breaks=!0),o.linkify&&(i.options.linkify=!0),o.alert&&i.use(X,a),o.footnote&&i.use(Ge),o.tasklist&&i.use(nt,[v(t.tasklist)?t.tasklist:{}]),o.imgMark&&i.use(We,v(t.imgMark)?t.imgMark:{}),t.attrs&&i.use(Le,v(t.attrs)?t.attrs:{}),t.align&&i.use(ze),t.component&&i.use(ie),t.figure&&i.use(Ue),t.hint&&i.use(me,a),t.imgLazyload&&i.use(Ve),t.imgSize&&i.use(qe),t.mark&&i.use(Ye),t.obsidianImgSize&&i.use(Be),t.sup&&i.use(tt),t.sub&&i.use(et),t.card&&e&&i.use(Lt),(t.vPre||e)&&i.use(_e),o.katex?i.use(He,s):o.mathjax&&(i.use(Xe,l),i.use(c=>{const m=c.render.bind(c);c.render=(g,u)=>{const f=m(g,u);return l.reset(),f}})),t.include&&(i.use(Ke,{currentPath:c=>c.filePath,...v(t.include)?t.include:{}}),e&&i.use(Qt,{currentPath:c=>c.filePath}),i.use(c=>{const m=c.render.bind(c);c.render=(g,u)=>{const f=m(g,u),{filePathRelative:d,includedFiles:h=[]}=u;return d&&h.length&&((u.frontmatter??={}).gitInclude??=[]).push(...h.map(k=>w.relative(d,k))),f}})),t.stylize&&i.use(Ze,{config:t.stylize,localConfigGetter:c=>c.frontmatter?.stylize||null}),t.codetabs&&(i.use(re),e&&i.use(Vt)),t.tabs&&i.use(Me),o.flowchart&&(i.use(ce),e&&i.use(Xt)),o.chart&&i.use(Z),o.echarts&&i.use(le),t.demo&&(i.use(ae),i.use(te),i.use(ne),i.use(oe),e&&i.use(Gt)),o.markmap&&i.use(we),o.mermaid&&i.use(Re),o.revealJs&&i.use(Ie),v(t.playground)){const{presets:c=[],config:m={}}=t.playground;c.forEach(g=>{g==="ts"?i.use(I,he(m.ts||{})):g==="vue"?i.use(I,$e(m.vue||{})):g==="unocss"?i.use(I,ve(m.unocss||{})):v(g)&&i.use(I,g)})}o.kotlinPlayground&&i.use(Ce),o.vuePlayground&&i.use(De),o.sandpack&&i.use(Te)},extendsPage:i=>{t.include&&i.deps.push(...i.markdownEnv.includedFiles)},onPrepared:async i=>{const c=[];o.mathjax&&c.push(tn(i,l)),o.revealJs&&c.push(on(i,p.plugins),an(i,p.themes)),await Promise.all(c)},clientConfigFile:i=>Zt(i,t,o,e)}};export{ee as CODE_DEMO_DEFAULT_SETTING,X as alert,Z as chart,re as codeTabs,ie as component,le as echarts,ce as flowchart,ke as generateUnoURL,Pe as getMermaidContent,he as getTSPlaygroundPreset,ge as getURL,ve as getUnoPlaygroundPreset,$e as getVuePlaygroundPreset,me as hint,Ce as kotlinPlayground,Je as markdownEnhanceLocales,we as markmap,ae as mdDemo,rn as mdEnhancePlugin,Re as mermaid,te as normalDemo,I as playground,oe as reactDemo,Ie as revealJs,Te as sandpack,Me as tabs,_e as vPre,ne as vueDemo,De as vuePlayground};
//# sourceMappingURL=index.js.map
